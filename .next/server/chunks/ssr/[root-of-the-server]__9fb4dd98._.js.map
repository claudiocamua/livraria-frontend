{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Usu%C3%A1rio/biblioteca-modicificada/biblioteca-frontend/src/app/lib/books.ts"],"sourcesContent":["export interface Book {\r\n  id: string;\r\n  title: string;\r\n  author: string;\r\n  cover: string;\r\n}\r\n\r\nexport async function getFrontendBooks(): Promise<Book[]> {\r\n  const res = await fetch(\r\n    \"https://www.googleapis.com/books/v1/volumes?q=frontend+development&printType=books&langRestrict=en&maxResults=20\"\r\n  );\r\n\r\n  const data = await res.json();\r\n\r\n  if (!data.items) return [];\r\n\r\n  return data.items.map((item: any) => ({\r\n    id: item.id,\r\n    title: item.volumeInfo.title || \"Título desconhecido\",\r\n    author: item.volumeInfo.authors ? item.volumeInfo.authors.join(\", \") : \"Autor desconhecido\",\r\n    cover: item.volumeInfo.imageLinks?.thumbnail || \"\",\r\n  }));\r\n}"],"names":[],"mappings":";;;AAOO,eAAe;IACpB,MAAM,MAAM,MAAM,MAChB;IAGF,MAAM,OAAO,MAAM,IAAI,IAAI;IAE3B,IAAI,CAAC,KAAK,KAAK,EAAE,OAAO,EAAE;IAE1B,OAAO,KAAK,KAAK,CAAC,GAAG,CAAC,CAAC,OAAc,CAAC;YACpC,IAAI,KAAK,EAAE;YACX,OAAO,KAAK,UAAU,CAAC,KAAK,IAAI;YAChC,QAAQ,KAAK,UAAU,CAAC,OAAO,GAAG,KAAK,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ;YACvE,OAAO,KAAK,UAAU,CAAC,UAAU,EAAE,aAAa;QAClD,CAAC;AACH","debugId":null}},
    {"offset": {"line": 47, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Usu%C3%A1rio/biblioteca-modicificada/biblioteca-frontend/src/app/components/BookCard.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Book } from \"@/app/lib/books\";\r\nimport Link from \"next/link\";\r\nimport { Star } from \"lucide-react\";\r\n\r\ninterface BookCardProps extends Book {\r\n  isFavorito: boolean;\r\n  onToggleFavorito: (book: Book) => void;\r\n}\r\n\r\nexport default function BookCard({\r\n  id,\r\n  title,\r\n  author,\r\n  cover,\r\n  isFavorito,\r\n  onToggleFavorito,\r\n}: BookCardProps) {\r\n  const handleFavorito = (e: React.MouseEvent) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    onToggleFavorito({ id, title, author, cover });\r\n  };\r\n\r\n  return (\r\n    <Link href={`/livro/${id}`} className=\"relative\">\r\n      <div className=\"bg-gradient-to-br from-blue-600 to-blue-400 shadow-lg p-4 rounded-lg text-center transform transition hover:scale-105 hover:shadow-2xl cursor-pointer relative\">\r\n        <button\r\n          onClick={handleFavorito}\r\n          className={`absolute top-2 right-2 ${\r\n            isFavorito ? \"text-yellow-400\" : \"text-white\"\r\n          }`}\r\n        >\r\n          <Star size={20} />\r\n        </button>\r\n\r\n        <img\r\n          src={cover || \"https://via.placeholder.com/150x220?text=Sem+Capa\"}\r\n          alt={title || \"Livro sem título\"}\r\n          className=\"mx-auto h-40 w-32 object-cover rounded-md border border-blue-700\"\r\n        />\r\n        <h3 className=\"mt-3 font-semibold text-white\">{title || \"Título desconhecido\"}</h3>\r\n        <p className=\"text-sm text-blue-100\">{author || \"Autor desconhecido\"}</p>\r\n      </div>\r\n    </Link>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAGA;AACA;AAJA;;;;AAWe,SAAS,SAAS,EAC/B,EAAE,EACF,KAAK,EACL,MAAM,EACN,KAAK,EACL,UAAU,EACV,gBAAgB,EACF;IACd,MAAM,iBAAiB,CAAC;QACtB,EAAE,cAAc;QAChB,EAAE,eAAe;QACjB,iBAAiB;YAAE;YAAI;YAAO;YAAQ;QAAM;IAC9C;IAEA,qBACE,8OAAC,4JAAA,CAAA,UAAI;QAAC,MAAM,CAAC,OAAO,EAAE,IAAI;QAAE,WAAU;kBACpC,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBACC,SAAS;oBACT,WAAW,CAAC,uBAAuB,EACjC,aAAa,oBAAoB,cACjC;8BAEF,cAAA,8OAAC,kMAAA,CAAA,OAAI;wBAAC,MAAM;;;;;;;;;;;8BAGd,8OAAC;oBACC,KAAK,SAAS;oBACd,KAAK,SAAS;oBACd,WAAU;;;;;;8BAEZ,8OAAC;oBAAG,WAAU;8BAAiC,SAAS;;;;;;8BACxD,8OAAC;oBAAE,WAAU;8BAAyB,UAAU;;;;;;;;;;;;;;;;;AAIxD","debugId":null}},
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Usu%C3%A1rio/biblioteca-modicificada/biblioteca-frontend/src/app/components/BookList.tsx"],"sourcesContent":["import BookCard from \"./BookCard\";\r\nimport { Book } from \"@/app/lib/books\";\r\n\r\ninterface BookListProps {\r\n  books?: Book[];\r\n}\r\n\r\nexport default function BookList({ books }: BookListProps) {\r\n  if (!books || books.length === 0) {\r\n    return (\r\n      <p className=\"text-center text-blue-100 mt-10\">\r\n        Nenhum livro disponível.\r\n      </p>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mt-6\">\r\n      {books.map((book, index) => (\r\n        <BookCard key={book.cover || index} {...book} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;AAAA;;;AAOe,SAAS,SAAS,EAAE,KAAK,EAAiB;IACvD,IAAI,CAAC,SAAS,MAAM,MAAM,KAAK,GAAG;QAChC,qBACE,8OAAC;YAAE,WAAU;sBAAkC;;;;;;IAInD;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACZ,MAAM,GAAG,CAAC,CAAC,MAAM,sBAChB,8OAAC,qIAAA,CAAA,UAAQ;gBAA4B,GAAG,IAAI;eAA7B,KAAK,KAAK,IAAI;;;;;;;;;;AAIrC","debugId":null}},
    {"offset": {"line": 167, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Usu%C3%A1rio/biblioteca-modicificada/biblioteca-frontend/src/app/hook/useFavoritos.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { Book } from \"@/app/lib/books\";\r\n\r\nconst API_URL = \"http://localhost:5000/api/favorites\";\r\n\r\nexport function useFavoritos() {\r\n  const [favoritos, setFavoritos] = useState<string[]>([]);\r\n\r\n  // Carrega os favoritos do backend ao iniciar\r\n  useEffect(() => {\r\n    const fetchFavoritos = async () => {\r\n      try {\r\n        const res = await fetch(API_URL);\r\n        const data: Book[] = await res.json();\r\n        setFavoritos(data.map((book) => book.id));\r\n      } catch (err) {\r\n        console.error(\"Erro ao buscar favoritos:\", err);\r\n      }\r\n    };\r\n    fetchFavoritos();\r\n  }, []);\r\n\r\n  // Adiciona ou remove favorito\r\n  const toggleFavorito = async (book: Book) => {\r\n    try {\r\n      let updated: string[];\r\n\r\n      if (favoritos.includes(book.id)) {\r\n        // Remove do backend\r\n        await fetch(`${API_URL}/${book.id}`, { method: \"DELETE\" });\r\n        updated = favoritos.filter((f) => f !== book.id);\r\n      } else {\r\n        // Adiciona no backend\r\n        await fetch(API_URL, {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify(book),\r\n        });\r\n        updated = [...favoritos, book.id];\r\n      }\r\n\r\n      setFavoritos(updated);\r\n    } catch (err) {\r\n      console.error(\"Erro ao atualizar favoritos:\", err);\r\n    }\r\n  };\r\n\r\n  return { favoritos, toggleFavorito };\r\n}\r\n"],"names":[],"mappings":";;;AAEA;AAFA;;AAKA,MAAM,UAAU;AAET,SAAS;IACd,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAY,EAAE;IAEvD,6CAA6C;IAC7C,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,iBAAiB;YACrB,IAAI;gBACF,MAAM,MAAM,MAAM,MAAM;gBACxB,MAAM,OAAe,MAAM,IAAI,IAAI;gBACnC,aAAa,KAAK,GAAG,CAAC,CAAC,OAAS,KAAK,EAAE;YACzC,EAAE,OAAO,KAAK;gBACZ,QAAQ,KAAK,CAAC,6BAA6B;YAC7C;QACF;QACA;IACF,GAAG,EAAE;IAEL,8BAA8B;IAC9B,MAAM,iBAAiB,OAAO;QAC5B,IAAI;YACF,IAAI;YAEJ,IAAI,UAAU,QAAQ,CAAC,KAAK,EAAE,GAAG;gBAC/B,oBAAoB;gBACpB,MAAM,MAAM,GAAG,QAAQ,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE;oBAAE,QAAQ;gBAAS;gBACxD,UAAU,UAAU,MAAM,CAAC,CAAC,IAAM,MAAM,KAAK,EAAE;YACjD,OAAO;gBACL,sBAAsB;gBACtB,MAAM,MAAM,SAAS;oBACnB,QAAQ;oBACR,SAAS;wBAAE,gBAAgB;oBAAmB;oBAC9C,MAAM,KAAK,SAAS,CAAC;gBACvB;gBACA,UAAU;uBAAI;oBAAW,KAAK,EAAE;iBAAC;YACnC;YAEA,aAAa;QACf,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,gCAAgC;QAChD;IACF;IAEA,OAAO;QAAE;QAAW;IAAe;AACrC","debugId":null}},
    {"offset": {"line": 227, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Usu%C3%A1rio/biblioteca-modicificada/biblioteca-frontend/src/config/MenuConfigs.ts"],"sourcesContent":["import { Book, Star, User, Settings } from \"lucide-react\";\r\nimport type { LucideIcon } from \"lucide-react\";\r\n\r\n// Definindo uma interface para os links para garantir a tipagem e consistência.\r\nexport interface NavLink {\r\n  href: string;\r\n  label: string;\r\n  icon: LucideIcon;\r\n  badge?: number;\r\n}\r\n\r\n/**\r\n * Gera a configuração dos links do menu lateral.\r\n * @param favoritosCount - O número de livros favoritos para exibir no badge.\r\n * @returns Uma array de objetos NavLink.\r\n */\r\nexport const getMenuLinks = (favoritosCount: number = 0): NavLink[] => [\r\n  {\r\n    href: \"/livros\",\r\n    label: \"Livros\",\r\n    icon: Book,\r\n  },\r\n  {\r\n    href: \"/favoritos\",\r\n    label: \"Favoritos\",\r\n    icon: Star,\r\n    badge: favoritosCount > 0 ? favoritosCount : undefined, // Mostra o badge apenas se houver favoritos\r\n  },\r\n \r\n  {\r\n    href: \"/settings\",\r\n    label: \"Configurações\",\r\n    icon: Settings,\r\n  },\r\n];\r\n\r\n"],"names":[],"mappings":";;;AAAA;AAAA;AAAA;;AAgBO,MAAM,eAAe,CAAC,iBAAyB,CAAC,GAAgB;QACrE;YACE,MAAM;YACN,OAAO;YACP,MAAM,kMAAA,CAAA,OAAI;QACZ;QACA;YACE,MAAM;YACN,OAAO;YACP,MAAM,kMAAA,CAAA,OAAI;YACV,OAAO,iBAAiB,IAAI,iBAAiB;QAC/C;QAEA;YACE,MAAM;YACN,OAAO;YACP,MAAM,0MAAA,CAAA,WAAQ;QAChB;KACD","debugId":null}},
    {"offset": {"line": 256, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Usu%C3%A1rio/biblioteca-modicificada/biblioteca-frontend/src/app/components/MenuLatral.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { Menu, X, LogOut } from \"lucide-react\";\r\nimport { useFavoritos } from \"@/app/hook/useFavoritos\";\r\nimport { getMenuLinks } from \"@/config/MenuConfigs\"; \r\nimport { useRouter } from \"next/navigation\";\r\nimport { useAuth } from \"@/contexts/AuthCotext\"; \r\n\r\nexport default function MenuLateral() {\r\n  const [aberto, setAberto] = useState(false);\r\n  const { favoritos } = useFavoritos();\r\n  const { logout } = useAuth();\r\n  const router = useRouter();\r\n\r\n  const links = getMenuLinks(favoritos.length);\r\n\r\n  function handleLogout() {\r\n    logout();         \r\n    router.push(\"/\"); // redireciona para Home (page.tsx principal)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {/* Botão de abrir no mobile */}\r\n      <button\r\n        onClick={() => setAberto(true)}\r\n        className=\"md:hidden fixed top-4 right-4 z-50 p-2 bg-gray-900 text-white rounded\"\r\n        aria-label=\"Abrir menu\"\r\n      >\r\n        <Menu size={20} />\r\n      </button>\r\n\r\n      {/* Fundo escuro no mobile */}\r\n      {aberto && (\r\n        <div\r\n          className=\"fixed inset-0 bg-blue-950 bg-opacity-50 z-40 md:hidden\"\r\n          onClick={() => setAberto(false)}\r\n        />\r\n      )}\r\n\r\n      <aside\r\n        className={`fixed top-0 right-0 h-screen bg-blue-800 text-white flex flex-col\r\n          w-70 p-9 z-50 transform transition-transform duration-300\r\n          ${aberto ? \"translate-x-0\" : \"translate-x-full\"}\r\n          md:translate-x-0 md:static md:flex md:order-2`}\r\n      >\r\n        {/* Cabeçalho */}\r\n        <div className=\"flex items-center justify-between border-b border-gray-700 pb-4 mb-4\">\r\n          <h2 className=\"text-xl font-bold\">Library</h2>\r\n          <button\r\n            onClick={() => setAberto(false)}\r\n            className=\"md:hidden p-1 hover:bg-gray-800 rounded\"\r\n            aria-label=\"Fechar menu\"\r\n          >\r\n            <X size={20} />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Menu */}\r\n        <nav className=\"flex-1 space-y-2\">\r\n          {links.map(({ href, label, icon: Icon, badge }) => (\r\n            <Link\r\n              key={href}\r\n              href={href}\r\n              onClick={() => setAberto(false)}\r\n              className=\"flex items-center gap-3 p-2 rounded hover:bg-gray-800 justify-between\"\r\n            >\r\n              <div className=\"flex items-center gap-3\">\r\n                <Icon size={20} />\r\n                <span>{label}</span>\r\n              </div>\r\n              {badge && badge > 0 && (\r\n                <span className=\"bg-yellow-400 text-black text-xs font-bold px-2 py-0.5 rounded-full\">\r\n                  {badge}\r\n                </span>\r\n              )}\r\n            </Link>\r\n          ))}\r\n\r\n          {/* Botão de sair */}\r\n          <button\r\n            onClick={handleLogout}\r\n            className=\"flex items-center gap-3 w-full p-2 rounded hover:bg-red-600 mt-4\"\r\n          >\r\n            <LogOut size={20} />\r\n            <span>Sair</span>\r\n          </button>\r\n        </nav>\r\n\r\n        {/* Rodapé */}\r\n        <div className=\"border-t border-gray-700 pt-4 text-sm\">\r\n          © 2025 Frontend Library <br />\r\n          Claudio Sousa\r\n        </div>\r\n      </aside>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AARA;;;;;;;;;AAUe,SAAS;IACtB,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACrC,MAAM,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,mIAAA,CAAA,eAAY,AAAD;IACjC,MAAM,EAAE,MAAM,EAAE,GAAG,CAAA,GAAA,8HAAA,CAAA,UAAO,AAAD;IACzB,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,MAAM,QAAQ,CAAA,GAAA,4HAAA,CAAA,eAAY,AAAD,EAAE,UAAU,MAAM;IAE3C,SAAS;QACP;QACA,OAAO,IAAI,CAAC,MAAM,6CAA6C;IACjE;IAEA,qBACE;;0BAEE,8OAAC;gBACC,SAAS,IAAM,UAAU;gBACzB,WAAU;gBACV,cAAW;0BAEX,cAAA,8OAAC,kMAAA,CAAA,OAAI;oBAAC,MAAM;;;;;;;;;;;YAIb,wBACC,8OAAC;gBACC,WAAU;gBACV,SAAS,IAAM,UAAU;;;;;;0BAI7B,8OAAC;gBACC,WAAW,CAAC;;UAEV,EAAE,SAAS,kBAAkB,mBAAmB;uDACH,CAAC;;kCAGhD,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAAoB;;;;;;0CAClC,8OAAC;gCACC,SAAS,IAAM,UAAU;gCACzB,WAAU;gCACV,cAAW;0CAEX,cAAA,8OAAC,4LAAA,CAAA,IAAC;oCAAC,MAAM;;;;;;;;;;;;;;;;;kCAKb,8OAAC;wBAAI,WAAU;;4BACZ,MAAM,GAAG,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,MAAM,IAAI,EAAE,KAAK,EAAE,iBAC5C,8OAAC,4JAAA,CAAA,UAAI;oCAEH,MAAM;oCACN,SAAS,IAAM,UAAU;oCACzB,WAAU;;sDAEV,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAK,MAAM;;;;;;8DACZ,8OAAC;8DAAM;;;;;;;;;;;;wCAER,SAAS,QAAQ,mBAChB,8OAAC;4CAAK,WAAU;sDACb;;;;;;;mCAXA;;;;;0CAkBT,8OAAC;gCACC,SAAS;gCACT,WAAU;;kDAEV,8OAAC,0MAAA,CAAA,SAAM;wCAAC,MAAM;;;;;;kDACd,8OAAC;kDAAK;;;;;;;;;;;;;;;;;;kCAKV,8OAAC;wBAAI,WAAU;;4BAAwC;0CAC7B,8OAAC;;;;;4BAAK;;;;;;;;;;;;;;;AAMxC","debugId":null}},
    {"offset": {"line": 457, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Usu%C3%A1rio/biblioteca-modicificada/biblioteca-frontend/src/app/favoritos/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { getFrontendBooks, Book } from \"@/app/lib/books\";\r\nimport BookList from \"@/app/components/BookList\";\r\nimport { useFavoritos } from \"@/app/hook/useFavoritos\";\r\nimport MenuLateral from \"../components/MenuLatral\";\r\n\r\nexport default function FavoritosPage() {\r\n  const { favoritos } = useFavoritos();\r\n  const [books, setBooks] = useState<Book[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    async function fetchBooks() {\r\n      setLoading(true);\r\n      const allBooks = await getFrontendBooks();\r\n      const favBooks = allBooks.filter((b) => favoritos.includes(b.id));\r\n      setBooks(favBooks);\r\n      setLoading(false);\r\n    }\r\n    fetchBooks();\r\n  }, [favoritos]);\r\n\r\n  return (\r\n    <div className=\"fixed inset-0  bg-gradient-to-b bg-blue-100 flex min-h-screen \">\r\n        <MenuLateral  />\r\n      {loading ? (\r\n        <p className=\"text-center text-gray-400 \">Carregando...</p>\r\n      ) : books.length === 0 ? (\r\n        <p className=\"text-center mt-20 text-white\">Nenhum livro favoritado ainda.</p>\r\n      ) : (\r\n        <BookList books={books} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAQe,SAAS;IACtB,MAAM,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,mIAAA,CAAA,eAAY,AAAD;IACjC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAU,EAAE;IAC7C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,eAAe;YACb,WAAW;YACX,MAAM,WAAW,MAAM,CAAA,GAAA,0HAAA,CAAA,mBAAgB,AAAD;YACtC,MAAM,WAAW,SAAS,MAAM,CAAC,CAAC,IAAM,UAAU,QAAQ,CAAC,EAAE,EAAE;YAC/D,SAAS;YACT,WAAW;QACb;QACA;IACF,GAAG;QAAC;KAAU;IAEd,qBACE,8OAAC;QAAI,WAAU;;0BACX,8OAAC,uIAAA,CAAA,UAAW;;;;;YACb,wBACC,8OAAC;gBAAE,WAAU;0BAA6B;;;;;uBACxC,MAAM,MAAM,KAAK,kBACnB,8OAAC;gBAAE,WAAU;0BAA+B;;;;;qCAE5C,8OAAC,qIAAA,CAAA,UAAQ;gBAAC,OAAO;;;;;;;;;;;;AAIzB","debugId":null}}]
}