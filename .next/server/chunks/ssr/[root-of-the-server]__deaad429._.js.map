{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Usu%C3%A1rio/biblioteca-modicificada/biblioteca-frontend/src/app/hook/useFavoritos.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { Book } from \"@/app/lib/books\";\r\n\r\nexport function useFavoritos() {\r\n  const [favoritos, setFavoritos] = useState<string[]>([]);\r\n\r\n  useEffect(() => {\r\n    const saved = localStorage.getItem(\"favoritos\");\r\n    if (saved) setFavoritos(JSON.parse(saved));\r\n  }, []);\r\n\r\n  const toggleFavorito = async (book: Book) => {\r\n    let updated: string[];\r\n\r\n    if (favoritos.includes(book.id)) {\r\n      updated = favoritos.filter((f) => f !== book.id);\r\n      // Em breve: rota DELETE no backend\r\n    } else {\r\n      updated = [...favoritos, book.id];\r\n      await fetch(\"/api/favorites\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(book),\r\n      });\r\n    }\r\n\r\n    setFavoritos(updated);\r\n    localStorage.setItem(\"favoritos\", JSON.stringify(updated));\r\n  };\r\n\r\n  return { favoritos, toggleFavorito };\r\n}\r\n"],"names":[],"mappings":";;;AAEA;AAFA;;AAKO,SAAS;IACd,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAY,EAAE;IAEvD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,OAAO,aAAa,KAAK,KAAK,CAAC;IACrC,GAAG,EAAE;IAEL,MAAM,iBAAiB,OAAO;QAC5B,IAAI;QAEJ,IAAI,UAAU,QAAQ,CAAC,KAAK,EAAE,GAAG;YAC/B,UAAU,UAAU,MAAM,CAAC,CAAC,IAAM,MAAM,KAAK,EAAE;QAC/C,mCAAmC;QACrC,OAAO;YACL,UAAU;mBAAI;gBAAW,KAAK,EAAE;aAAC;YACjC,MAAM,MAAM,kBAAkB;gBAC5B,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;YACvB;QACF;QAEA,aAAa;QACb,aAAa,OAAO,CAAC,aAAa,KAAK,SAAS,CAAC;IACnD;IAEA,OAAO;QAAE;QAAW;IAAe;AACrC","debugId":null}},
    {"offset": {"line": 79, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Usu%C3%A1rio/biblioteca-modicificada/biblioteca-frontend/src/app/components/BookCard.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Book } from \"@/app/lib/books\";\r\nimport Link from \"next/link\";\r\nimport { Star } from \"lucide-react\";\r\nimport { useFavoritos } from \"@/app/hook/useFavoritos\";\r\n\r\nexport default function BookCard({ id, title, author, cover }: Book) {\r\n  const { favoritos, toggleFavorito } = useFavoritos();\r\n  const favorito = favoritos.includes(id);\r\n\r\n  const handleFavorito = (e: React.MouseEvent) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    toggleFavorito({ id, title, author, cover });\r\n  };\r\n\r\n  return (\r\n    <Link href={`/livro/${id}`} className=\"relative\">\r\n      <div className=\"bg-gradient-to-br from-blue-600 to-blue-400 shadow-lg p-4 rounded-lg text-center transform transition hover:scale-105 hover:shadow-2xl cursor-pointer relative\">\r\n        <button\r\n          onClick={handleFavorito}\r\n          className={`absolute top-2 right-2 ${favorito ? \"text-yellow-400\" : \"text-white\"}`}\r\n        >\r\n          <Star size={20} />\r\n        </button>\r\n\r\n        <img\r\n          src={cover || \"https://via.placeholder.com/150x220?text=Sem+Capa\"}\r\n          alt={title || \"Livro sem título\"}\r\n          className=\"mx-auto h-40 w-32 object-cover rounded-md border border-blue-300\"\r\n        />\r\n        <h3 className=\"mt-3 font-semibold text-white\">{title || \"Título desconhecido\"}</h3>\r\n        <p className=\"text-sm text-blue-100\">{author || \"Autor desconhecido\"}</p>\r\n      </div>\r\n    </Link>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AALA;;;;;AAOe,SAAS,SAAS,EAAE,EAAE,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAQ;IACjE,MAAM,EAAE,SAAS,EAAE,cAAc,EAAE,GAAG,CAAA,GAAA,mIAAA,CAAA,eAAY,AAAD;IACjD,MAAM,WAAW,UAAU,QAAQ,CAAC;IAEpC,MAAM,iBAAiB,CAAC;QACtB,EAAE,cAAc;QAChB,EAAE,eAAe;QACjB,eAAe;YAAE;YAAI;YAAO;YAAQ;QAAM;IAC5C;IAEA,qBACE,8OAAC,4JAAA,CAAA,UAAI;QAAC,MAAM,CAAC,OAAO,EAAE,IAAI;QAAE,WAAU;kBACpC,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBACC,SAAS;oBACT,WAAW,CAAC,uBAAuB,EAAE,WAAW,oBAAoB,cAAc;8BAElF,cAAA,8OAAC,kMAAA,CAAA,OAAI;wBAAC,MAAM;;;;;;;;;;;8BAGd,8OAAC;oBACC,KAAK,SAAS;oBACd,KAAK,SAAS;oBACd,WAAU;;;;;;8BAEZ,8OAAC;oBAAG,WAAU;8BAAiC,SAAS;;;;;;8BACxD,8OAAC;oBAAE,WAAU;8BAAyB,UAAU;;;;;;;;;;;;;;;;;AAIxD","debugId":null}}]
}