{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 117, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Usu%C3%A1rio/biblioteca-modicificada/biblioteca-frontend/src/contexts/AuthCotext.tsx"],"sourcesContent":["\"use client\";\r\nimport { createContext, useContext, useState, ReactNode } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst API = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:4000\";\r\n\r\ntype User = {\r\n  id: string;\r\n  name: string;\r\n  email: string;\r\n};\r\n\r\ntype AuthContextType = {\r\n  user: User | null;\r\n  login: (email: string, password: string) => Promise<void>;\r\n  register: (name: string, email: string, password: string) => Promise<void>;\r\n  logout: () => void;\r\n};\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\nexport const AuthProvider = ({ children }: { children: ReactNode }) => {\r\n  const [user, setUser] = useState<User | null>(null);\r\n\r\n  const login = async (email: string, password: string) => {\r\n    const res = await axios.post(`${API}/api/auth/login`, { email, password });\r\n    setUser(res.data.user);\r\n    localStorage.setItem(\"token\", res.data.token);\r\n  };\r\n\r\n  const register = async (name: string, email: string, password: string) => {\r\n    const res = await axios.post(`${API}/api/auth/register`, {\r\n      name, // üîπ precisa ser 'name'\r\n      email,\r\n      password,\r\n    });\r\n    setUser(res.data.user);\r\n    localStorage.setItem(\"token\", res.data.token);\r\n  };\r\n\r\n  const logout = () => {\r\n    setUser(null);\r\n    localStorage.removeItem(\"token\");\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, login, register, logout }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useAuth = () => {\r\n  const ctx = useContext(AuthContext);\r\n  if (!ctx) throw new Error(\"useAuth precisa estar dentro de AuthProvider\");\r\n  return ctx;\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AAFA;;;;AAIA,MAAM,MAAM,6DAAmC;AAe/C,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,gBAAa,AAAD,EAA+B;AAExD,MAAM,eAAe,CAAC,EAAE,QAAQ,EAA2B;IAChE,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAe;IAE9C,MAAM,QAAQ,OAAO,OAAe;QAClC,MAAM,MAAM,MAAM,qIAAA,CAAA,UAAK,CAAC,IAAI,CAAC,GAAG,IAAI,eAAe,CAAC,EAAE;YAAE;YAAO;QAAS;QACxE,QAAQ,IAAI,IAAI,CAAC,IAAI;QACrB,aAAa,OAAO,CAAC,SAAS,IAAI,IAAI,CAAC,KAAK;IAC9C;IAEA,MAAM,WAAW,OAAO,MAAc,OAAe;QACnD,MAAM,MAAM,MAAM,qIAAA,CAAA,UAAK,CAAC,IAAI,CAAC,GAAG,IAAI,kBAAkB,CAAC,EAAE;YACvD;YACA;YACA;QACF;QACA,QAAQ,IAAI,IAAI,CAAC,IAAI;QACrB,aAAa,OAAO,CAAC,SAAS,IAAI,IAAI,CAAC,KAAK;IAC9C;IAEA,MAAM,SAAS;QACb,QAAQ;QACR,aAAa,UAAU,CAAC;IAC1B;IAEA,qBACE,8OAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAO;YAAU;QAAO;kBAC1D;;;;;;AAGP;AAEO,MAAM,UAAU;IACrB,MAAM,MAAM,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAE;IACvB,IAAI,CAAC,KAAK,MAAM,IAAI,MAAM;IAC1B,OAAO;AACT","debugId":null}},
    {"offset": {"line": 176, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Usu%C3%A1rio/biblioteca-modicificada/biblioteca-frontend/src/contexts/BooksContext.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport axios from \"axios\";\r\nimport { createContext, useContext, useState, ReactNode } from \"react\";\r\n\r\nconst API = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:4000\";\r\n\r\nexport type Book = {\r\n  id: string;\r\n  title: string;\r\n  author: string;\r\n  cover?: string;\r\n  infoLink?: string;\r\n};\r\n\r\ntype BooksContextType = {\r\n  books: Book[];\r\n  favorites: Book[];\r\n  fetchBooks: (query: string) => Promise<void>;\r\n  fetchFavorites: () => Promise<void>;\r\n  addFavorite: (book: Book) => Promise<void>;\r\n  removeFavorite: (bookId: string) => Promise<void>;\r\n};\r\n\r\nconst BooksContext = createContext<BooksContextType | undefined>(undefined);\r\n\r\nexport const BooksProvider = ({ children }: { children: ReactNode }) => {\r\n  const [books, setBooks] = useState<Book[]>([]);\r\n  const [favorites, setFavorites] = useState<Book[]>([]);\r\n\r\n  // Buscar livros da API do Google (backend Next.js)\r\n  const fetchBooks = async (query: string) => {\r\n    try {\r\n      const res = await axios.get(`/api/books?q=${encodeURIComponent(query)}`);\r\n      setBooks(res.data);\r\n    } catch (err) {\r\n      console.error(\"Erro ao buscar livros:\", err);\r\n      setBooks([]);\r\n    }\r\n  };\r\n\r\n  // Buscar favoritos do usu√°rio\r\n  const fetchFavorites = async () => {\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      if (!token) return;\r\n      const res = await axios.get(`${API}/api/favorites`, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      setFavorites(res.data);\r\n    } catch (err) {\r\n      console.error(\"N√£o foi poss√≠vel carregar favoritos.\", err);\r\n      setFavorites([]);\r\n    }\r\n  };\r\n\r\n  // Adicionar favorito\r\n  const addFavorite = async (book: Book) => {\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      if (!token) throw new Error(\"Usu√°rio n√£o autenticado\");\r\n      await axios.post(`${API}/api/favorites/${book.id}`, null, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      await fetchFavorites(); // Atualiza a lista\r\n    } catch (err) {\r\n      console.error(\"N√£o foi poss√≠vel favoritar o livro.\", err);\r\n    }\r\n  };\r\n\r\n  // Remover favorito\r\n  const removeFavorite = async (bookId: string) => {\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      if (!token) throw new Error(\"Usu√°rio n√£o autenticado\");\r\n      await axios.delete(`${API}/api/favorites/${bookId}`, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      await fetchFavorites(); // Atualiza a lista\r\n    } catch (err) {\r\n      console.error(\"N√£o foi poss√≠vel remover o favorito.\", err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <BooksContext.Provider\r\n      value={{\r\n        books,\r\n        favorites,\r\n        fetchBooks,\r\n        fetchFavorites,\r\n        addFavorite,\r\n        removeFavorite,\r\n      }}\r\n    >\r\n      {children}\r\n    </BooksContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useBooks = () => {\r\n  const ctx = useContext(BooksContext);\r\n  if (!ctx) throw new Error(\"useBooks precisa estar dentro de BooksProvider\");\r\n  return ctx;\r\n};\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKA,MAAM,MAAM,6DAAmC;AAmB/C,MAAM,6BAAe,CAAA,GAAA,qMAAA,CAAA,gBAAa,AAAD,EAAgC;AAE1D,MAAM,gBAAgB,CAAC,EAAE,QAAQ,EAA2B;IACjE,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAU,EAAE;IAC7C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAU,EAAE;IAErD,mDAAmD;IACnD,MAAM,aAAa,OAAO;QACxB,IAAI;YACF,MAAM,MAAM,MAAM,qIAAA,CAAA,UAAK,CAAC,GAAG,CAAC,CAAC,aAAa,EAAE,mBAAmB,QAAQ;YACvE,SAAS,IAAI,IAAI;QACnB,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,0BAA0B;YACxC,SAAS,EAAE;QACb;IACF;IAEA,8BAA8B;IAC9B,MAAM,iBAAiB;QACrB,IAAI;YACF,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,IAAI,CAAC,OAAO;YACZ,MAAM,MAAM,MAAM,qIAAA,CAAA,UAAK,CAAC,GAAG,CAAC,GAAG,IAAI,cAAc,CAAC,EAAE;gBAClD,SAAS;oBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;gBAAC;YAC9C;YACA,aAAa,IAAI,IAAI;QACvB,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,wCAAwC;YACtD,aAAa,EAAE;QACjB;IACF;IAEA,qBAAqB;IACrB,MAAM,cAAc,OAAO;QACzB,IAAI;YACF,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,IAAI,CAAC,OAAO,MAAM,IAAI,MAAM;YAC5B,MAAM,qIAAA,CAAA,UAAK,CAAC,IAAI,CAAC,GAAG,IAAI,eAAe,EAAE,KAAK,EAAE,EAAE,EAAE,MAAM;gBACxD,SAAS;oBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;gBAAC;YAC9C;YACA,MAAM,kBAAkB,mBAAmB;QAC7C,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,uCAAuC;QACvD;IACF;IAEA,mBAAmB;IACnB,MAAM,iBAAiB,OAAO;QAC5B,IAAI;YACF,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,IAAI,CAAC,OAAO,MAAM,IAAI,MAAM;YAC5B,MAAM,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC,GAAG,IAAI,eAAe,EAAE,QAAQ,EAAE;gBACnD,SAAS;oBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;gBAAC;YAC9C;YACA,MAAM,kBAAkB,mBAAmB;QAC7C,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,wCAAwC;QACxD;IACF;IAEA,qBACE,8OAAC,aAAa,QAAQ;QACpB,OAAO;YACL;YACA;YACA;YACA;YACA;YACA;QACF;kBAEC;;;;;;AAGP;AAEO,MAAM,WAAW;IACtB,MAAM,MAAM,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAE;IACvB,IAAI,CAAC,KAAK,MAAM,IAAI,MAAM;IAC1B,OAAO;AACT","debugId":null}},
    {"offset": {"line": 297, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Usu%C3%A1rio/biblioteca-modicificada/biblioteca-frontend/src/app/components/MenuLatral.tsx"],"sourcesContent":["\"use client\";\r\nimport Link from \"next/link\";\r\n\r\nexport default function MenuLateral() {\r\n  return (\r\n    <aside className=\"w-64 bg-blue-700 text-white min-h-screen p-4 flex flex-col\">\r\n      <h2 className=\"text-xl font-bold mb-6\">üìö Biblioteca</h2>\r\n      <nav className=\"flex flex-col gap-4\">\r\n        <Link href=\"/\" className=\"hover:bg-blue-600 p-2 rounded\">\r\n          In√≠cio\r\n        </Link>\r\n        <Link href=\"/livros\" className=\"hover:bg-blue-600 p-2 rounded\">\r\n          Livros\r\n        </Link>\r\n        <Link href=\"/favoritos\" className=\"hover:bg-blue-600 p-2 rounded\">\r\n          Favoritos\r\n        </Link>\r\n        <Link href=\"/login\" className=\"hover:bg-blue-600 p-2 rounded\">\r\n          Login\r\n        </Link>\r\n        <Link href=\"/cadastro\" className=\"hover:bg-blue-600 p-2 rounded\">\r\n          Cadastro\r\n        </Link>\r\n      </nav>\r\n    </aside>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AADA;;;AAGe,SAAS;IACtB,qBACE,8OAAC;QAAM,WAAU;;0BACf,8OAAC;gBAAG,WAAU;0BAAyB;;;;;;0BACvC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,4JAAA,CAAA,UAAI;wBAAC,MAAK;wBAAI,WAAU;kCAAgC;;;;;;kCAGzD,8OAAC,4JAAA,CAAA,UAAI;wBAAC,MAAK;wBAAU,WAAU;kCAAgC;;;;;;kCAG/D,8OAAC,4JAAA,CAAA,UAAI;wBAAC,MAAK;wBAAa,WAAU;kCAAgC;;;;;;kCAGlE,8OAAC,4JAAA,CAAA,UAAI;wBAAC,MAAK;wBAAS,WAAU;kCAAgC;;;;;;kCAG9D,8OAAC,4JAAA,CAAA,UAAI;wBAAC,MAAK;wBAAY,WAAU;kCAAgC;;;;;;;;;;;;;;;;;;AAMzE","debugId":null}}]
}