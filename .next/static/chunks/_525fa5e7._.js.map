{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Usu%C3%A1rio/biblioteca-modicificada/biblioteca-frontend/src/app/components/ProtectedRoute.tsx"],"sourcesContent":["\"use client\";\r\nimport { useAuth } from \"@/contexts/AuthCotext\";\r\nimport { useEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\ninterface Props {\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport default function ProtectedRoute({ children }: Props) {\r\n  const { user } = useAuth();\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    if (!user) {\r\n      router.replace(\"/login\"); // redireciona para login se não estiver logado\r\n    }\r\n  }, [user, router]);\r\n\r\n  if (!user) return null; // enquanto verifica, não renderiza nada\r\n\r\n  return <>{children}</>;\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;;;AAHA;;;;AASe,SAAS,eAAe,KAAmB;QAAnB,EAAE,QAAQ,EAAS,GAAnB;;IACrC,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,iIAAA,CAAA,UAAO,AAAD;IACvB,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;oCAAE;YACR,IAAI,CAAC,MAAM;gBACT,OAAO,OAAO,CAAC,WAAW,+CAA+C;YAC3E;QACF;mCAAG;QAAC;QAAM;KAAO;IAEjB,IAAI,CAAC,MAAM,OAAO,MAAM,wCAAwC;IAEhE,qBAAO;kBAAG;;AACZ;GAbwB;;QACL,iIAAA,CAAA,UAAO;QACT,qIAAA,CAAA,YAAS;;;KAFF","debugId":null}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Usu%C3%A1rio/biblioteca-modicificada/biblioteca-frontend/src/app/favoritos/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useAuth } from \"@/contexts/AuthCotext\";\r\nimport ProtectedRoute from \"@/app/components/ProtectedRoute\";\r\n\r\nexport default function FavoritesPage() {\r\n  const { user } = useAuth();\r\n  const [favorites, setFavorites] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    async function fetchFavorites() {\r\n      try {\r\n        const res = await axios.get(\"/api/favorites\", {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n        });\r\n        setFavorites(res.data);\r\n      } catch (err: any) {\r\n        console.error(err);\r\n        setError(\"Não foi possível carregar seus favoritos.\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n\r\n    if (user) {\r\n      fetchFavorites();\r\n    }\r\n  }, [user]);\r\n\r\n  const openBook = (url: string) => {\r\n    window.open(url, \"_blank\");\r\n  };\r\n\r\n  if (loading) return <p className=\"p-4\">Carregando favoritos...</p>;\r\n  if (error) return <p className=\"p-4 text-red-600\">{error}</p>;\r\n\r\n  return (\r\n    <ProtectedRoute>\r\n      <div className=\"p-4\">\r\n        <h1 className=\"text-xl font-bold mb-4\">Meus Favoritos</h1>\r\n        {favorites.length === 0 && <p>Nenhum livro favoritado ainda.</p>}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n          {favorites.map((book) => (\r\n            <div key={book._id} className=\"p-4 border rounded shadow\">\r\n              {book.cover && <img src={book.cover} alt={book.title} className=\"mb-2\" />}\r\n              <h2 className=\"font-bold\">{book.title}</h2>\r\n              <p className=\"text-sm\">{book.author}</p>\r\n              {book.infoLink && (\r\n                <button\r\n                  onClick={() => openBook(book.infoLink)}\r\n                  className=\"bg-blue-600 text-white px-3 py-1 mt-2 rounded\"\r\n                >\r\n                  Abrir / Baixar PDF\r\n                </button>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </ProtectedRoute>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAOe,SAAS;;IACtB,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,iIAAA,CAAA,UAAO,AAAD;IACvB,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAS,EAAE;IACpD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEnC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;mCAAE;YACR,eAAe;gBACb,IAAI;oBACF,MAAM,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,GAAG,CAAC,kBAAkB;wBAC5C,SAAS;4BAAE,eAAe,AAAC,UAAuC,OAA9B,aAAa,OAAO,CAAC;wBAAW;oBACtE;oBACA,aAAa,IAAI,IAAI;gBACvB,EAAE,OAAO,KAAU;oBACjB,QAAQ,KAAK,CAAC;oBACd,SAAS;gBACX,SAAU;oBACR,WAAW;gBACb;YACF;YAEA,IAAI,MAAM;gBACR;YACF;QACF;kCAAG;QAAC;KAAK;IAET,MAAM,WAAW,CAAC;QAChB,OAAO,IAAI,CAAC,KAAK;IACnB;IAEA,IAAI,SAAS,qBAAO,6LAAC;QAAE,WAAU;kBAAM;;;;;;IACvC,IAAI,OAAO,qBAAO,6LAAC;QAAE,WAAU;kBAAoB;;;;;;IAEnD,qBACE,6LAAC,8IAAA,CAAA,UAAc;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAG,WAAU;8BAAyB;;;;;;gBACtC,UAAU,MAAM,KAAK,mBAAK,6LAAC;8BAAE;;;;;;8BAC9B,6LAAC;oBAAI,WAAU;8BACZ,UAAU,GAAG,CAAC,CAAC,qBACd,6LAAC;4BAAmB,WAAU;;gCAC3B,KAAK,KAAK,kBAAI,6LAAC;oCAAI,KAAK,KAAK,KAAK;oCAAE,KAAK,KAAK,KAAK;oCAAE,WAAU;;;;;;8CAChE,6LAAC;oCAAG,WAAU;8CAAa,KAAK,KAAK;;;;;;8CACrC,6LAAC;oCAAE,WAAU;8CAAW,KAAK,MAAM;;;;;;gCAClC,KAAK,QAAQ,kBACZ,6LAAC;oCACC,SAAS,IAAM,SAAS,KAAK,QAAQ;oCACrC,WAAU;8CACX;;;;;;;2BARK,KAAK,GAAG;;;;;;;;;;;;;;;;;;;;;AAkB9B;GA1DwB;;QACL,iIAAA,CAAA,UAAO;;;KADF","debugId":null}},
    {"offset": {"line": 219, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Usu%C3%A1rio/biblioteca-modicificada/biblioteca-frontend/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0],"debugId":null}}]
}